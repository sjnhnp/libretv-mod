# 播放页搜索弹窗改进需求文档

## 介绍

本文档定义了对播放页搜索弹窗的样式和功能改进需求，主要包括弹窗样式精致化、详情功能优化、以及返回逻辑修复等方面的改进。

## 需求

### 需求 1: 搜索弹窗样式精致化

**用户故事:** 作为用户，我希望播放页搜索弹窗的样式更加精致美观，以提升使用体验

#### 验收标准

1. WHEN 用户打开搜索弹窗 THEN "搜索视频"标题字体应该变小，不需要太大
2. WHEN 用户查看搜索历史标签 THEN 标签样式应该适合弹窗规格，显示更加优雅
3. WHEN 用户查看搜索视频到搜索历史标签的距离 THEN 距离应该适中，不会太大，整体布局更加精致

### 需求 2: 搜索结果卡片画质标签替换

**用户故事:** 作为用户，我希望播放页搜索结果卡片右下角显示画质标签而不是"详情"按钮，与首页搜索结果保持一致

#### 验收标准

1. WHEN 用户查看播放页搜索结果卡片 THEN 右下角应该显示画质标签而不是"详情"按钮
2. WHEN 画质检测完成 THEN 画质标签应该显示实际的画质信息（如"高清"、"超清"等）
3. WHEN 画质检测中 THEN 画质标签应该显示"检测中..."状态
4. WHEN 画质显示为"未知"或检测失败 THEN 用户应该能够点击标签手动重新检测画质
5. WHEN 用户点击卡片其他区域 THEN 应该打开视频详情弹窗（保持原有详情功能）

### 需求 3: 集数弹窗关闭逻辑统一

**用户故事:** 作为用户，我希望无论通过什么方式打开集数弹窗，关闭后都能回到搜索结果页面

#### 验收标准

1. WHEN 用户点击详情按钮打开集数弹窗并关闭 THEN 应该回到搜索结果页面
2. WHEN 用户点击卡片其他区域打开集数弹窗并关闭 THEN 应该回到搜索结果页面而不是播放器画面
3. WHEN 用户使用右上角关闭按钮关闭集数弹窗 THEN 应该统一回到搜索结果页面

### 需求 4: 返回按钮逻辑修复

**用户故事:** 作为用户，我希望在播放页进行搜索后，点击返回按钮能正确回到首页的搜索结果

#### 验收标准

1. WHEN 用户在播放页进行搜索后点击返回按钮 THEN 应该回到首页并显示之前的搜索结果
2. WHEN 用户没有在播放页进行搜索时点击返回按钮 THEN 应该正常回到首页的搜索结果
3. WHEN 用户从首页搜索结果进入播放页后点击返回 THEN 应该回到首页并保持搜索结果状态

### 需求 5: 搜索结果卡片尺寸保持

**用户故事:** 作为用户，我希望搜索结果卡片的大小保持不变，确保界面一致性

#### 验收标准

1. WHEN 用户查看搜索结果 THEN 卡片尺寸应该与当前保持一致
2. WHEN 进行样式改进 THEN 不应该影响搜索结果卡片的大小和布局
3. WHEN 显示画质标签 THEN 应该在现有布局基础上添加，不改变卡片整体尺寸